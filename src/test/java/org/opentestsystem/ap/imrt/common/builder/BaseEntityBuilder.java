package org.opentestsystem.ap.imrt.common.builder;

import org.opentestsystem.ap.imrt.common.model.BaseEntity;

import java.time.Instant;

public abstract class BaseEntityBuilder<T extends BaseEntity> {
    private String updatedBy = "me";
    private Instant createdAt = Instant.now();
    private Instant updatedAt = Instant.now();

    public BaseEntityBuilder<T> withUpdatedBy(String updatedBy) {
        this.updatedBy = updatedBy;
        return this;
    }

    public BaseEntityBuilder<T> withCreatedAt(Instant createdAt) {
        this.createdAt = createdAt;
        return this;
    }

    public BaseEntityBuilder<T> withUpdatedAt(Instant updatedAt) {
        this.updatedAt = updatedAt;
        return this;
    }

    BaseEntity build(BaseEntity baseEntity) {
        baseEntity.setUpdatedBy(updatedBy);
        baseEntity.setUpdatedAt(updatedAt);
        baseEntity.setCreatedAt(createdAt);
        return baseEntity;
    }
}
