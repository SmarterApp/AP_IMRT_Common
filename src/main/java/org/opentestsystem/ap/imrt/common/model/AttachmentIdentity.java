package org.opentestsystem.ap.imrt.common.model;

import edu.umd.cs.findbugs.annotations.SuppressFBWarnings;

import javax.persistence.Embeddable;
import javax.persistence.ManyToOne;
import java.io.Serializable;

@SuppressFBWarnings("SE_BAD_FIELD")
@Embeddable
public class AttachmentIdentity implements Serializable {

    @ManyToOne
    private BaseItem item;
    private String fileName;

    /**
     * Constructor for frameworks
     */
    public AttachmentIdentity() {
    }

    public AttachmentIdentity(final BaseItem item, final String fileName) {
        this.item = item;
        this.fileName = fileName;
    }

    /**
     * @return The {@link org.opentestsystem.ap.imrt.common.model.BaseItem} to which this
     * {@link org.opentestsystem.ap.imrt.common.model.Attachment} is associated
     */
    public BaseItem getItem() {
        return item;
    }

    public void setItem(final ImrtItem item) {
        this.item = item;
    }


    /**
     * @return The file name of this {@link org.opentestsystem.ap.imrt.common.model.Attachment}
     */
    public String getFileName() {
        return fileName;
    }

    public void setFileName(final String fileName) {
        this.fileName = fileName;
    }

    @Override
    public boolean equals(final Object o) {
        if (this == o) return true;
        if (!(o instanceof AttachmentIdentity)) return false;

        final AttachmentIdentity that = (AttachmentIdentity) o;

        if (!getItem().equals(that.getItem())) return false;
        return getFileName().equals(that.getFileName());
    }

    @Override
    public int hashCode() {
        int result = getItem().hashCode();
        result = 31 * result + getFileName().hashCode();
        return result;
    }
}
