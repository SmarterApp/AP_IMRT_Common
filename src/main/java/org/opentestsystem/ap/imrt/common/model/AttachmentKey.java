package org.opentestsystem.ap.imrt.common.model;

import edu.umd.cs.findbugs.annotations.SuppressFBWarnings;

import javax.persistence.Embeddable;
import java.io.Serializable;

/**
 * Database key for {@code item_attachment} table
 */
@SuppressFBWarnings("SE_BAD_FIELD")
@Embeddable
public class AttachmentKey implements Serializable {
    private Integer itemKey;
    private String fileName;

    /**
     * Constructor for frameworks
     */
    private AttachmentKey() {
    }

    public AttachmentKey(final Integer itemKey, final String fileName) {
        this.itemKey = itemKey;
        this.fileName = fileName;
    }

    /**
     * @return The {@link org.opentestsystem.ap.imrt.common.model.BaseItem} to which this
     * {@link org.opentestsystem.ap.imrt.common.model.Attachment} is associated
     */
    public Integer getItem() {
        return itemKey;
    }

    public void setItem(final Integer item) {
        this.itemKey = item;
    }


    /**
     * @return The file name of this {@link org.opentestsystem.ap.imrt.common.model.Attachment}
     */
    public String getFileName() {
        return fileName;
    }

    public void setFileName(final String fileName) {
        this.fileName = fileName;
    }

    @Override
    public boolean equals(final Object o) {
        if (this == o) return true;
        if (!(o instanceof AttachmentKey)) return false;

        final AttachmentKey that = (AttachmentKey) o;

        if (!getItem().equals(that.getItem())) return false;
        return getFileName().equals(that.getFileName());
    }

    @Override
    public int hashCode() {
        int result = getItem().hashCode();
        result = 31 * result + getFileName().hashCode();
        return result;
    }
}
